{% extends 'base.html' %}

{% block title %}Beoordelingen van {{ kluszoeker.voornaam }} {{ kluszoeker.achternaam }}{% endblock %}

{% block content %}
<!-- Navigatiebalk -->
<nav class="navbar navbar-expand-lg navbar-dark bg-primary mb-4">
    <div class="container">
        <a class="navbar-brand" href="{{ url_for('main.home') }}">KlusKompas</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item"><a class="nav-link" href="{{ url_for('main.dashboard') }}">Dashboard</a></li>
                <li class="nav-item"><a class="nav-link" href="{{ url_for('main.mijn_aangeboden_klussen') }}">Mijn Klussen</a></li>
                <li class="nav-item"><a class="nav-link" href="{{ url_for('main.logout') }}">Uitloggen</a></li>
            </ul>
        </div>
    </div>
</nav>

<div class="container mt-5">
    <!-- Titel -->
    <div class="text-center mb-4">
        <h2 class="font-weight-bold text-secondary">Beoordelingen van {{ kluszoeker.voornaam }} {{ kluszoeker.achternaam }}</h2>
    </div>

    <!-- Samenvatting van beoordelingen -->
    <div class="card shadow-sm mb-5">
        <div class="card-header bg-primary text-white text-center">
            <h4 class="mb-0">Samenvatting van Beoordelingen</h4>
        </div>
        <div class="card-body">
            <div class="row text-center">
                <div class="col">
                    <h6>Vriendelijkheid</h6>
                    <p class="text-success font-weight-bold">{{ "%.1f"|format(samenvatting.vriendelijkheid or 0) }}</p>
                </div>
                <div class="col">
                    <h6>Tijdigheid</h6>
                    <p class="text-success font-weight-bold">{{ "%.1f"|format(samenvatting.tijdigheid or 0) }}</p>
                </div>
                <div class="col">
                    <h6>Kwaliteit</h6>
                    <p class="text-success font-weight-bold">{{ "%.1f"|format(samenvatting.kwaliteit or 0) }}</p>
                </div>
                <div class="col">
                    <h6>Communicatie</h6>
                    <p class="text-success font-weight-bold">{{ "%.1f"|format(samenvatting.communicatie or 0) }}</p>
                </div>
                <div class="col">
                    <h6>Algemene Ervaring</h6>
                    <p class="text-success font-weight-bold">{{ "%.1f"|format(samenvatting.algemene_ervaring or 0) }}</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Gedetailleerde beoordelingen -->
    <div class="card shadow-sm">
        <div class="card-header bg-secondary text-white text-center">
            <h4 class="mb-0">Alle Beoordelingen</h4>
        </div>
        <div class="card-body p-0">
            <table class="table table-striped table-hover mb-0">
                <thead class="thead-light">
                    <tr class="text-center">
                        <th>Vriendelijkheid</th>
                        <th>Tijdigheid</th>
                        <th>Kwaliteit</th>
                        <th>Communicatie</th>
                        <th>Algemene Ervaring</th>
                    </tr>
                </thead>
                <tbody>
                    {% for rating in ratings %}
                    <tr class="text-center">
                        <td>{{ rating.vriendelijkheid_zoeker | round(1) }}</td>
                        <td>{{ rating.tijdigheid | round(1) }}</td>
                        <td>{{ rating.kwaliteit | round(1) }}</td>
                        <td>{{ rating.communicatie_zoeker | round(1) }}</td>
                        <td>{{ rating.algemene_ervaring_zoeker | round(1) }}</td>
                    </tr>
                    {% else %}
                    <tr>
                        <td colspan="5" class="text-center text-muted">Er zijn nog geen beoordelingen beschikbaar.</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>

<!-- Stijl -->
<style>
    body {
        background-color: #f9f9f9;
        font-family: Arial, sans-serif;
    }

    .card {
        border: none;
        border-radius: 8px;
    }

    h2, h4 {
        margin: 0;
        font-weight: 600;
    }

    table th, table td {
        vertical-align: middle;
        padding: 10px;
    }

    table thead {
        background-color: #007bff;
        color: #fff;
    }

    .text-success {
        color: #28a745 !important;
        font-size: 1.5rem;
    }

    .navbar-nav .nav-link {
        color: #ffffff !important;
        margin-right: 10px;
    }

    .navbar-nav .nav-link:hover {
        text-decoration: underline;
    }
</style>
{% endblock %}
